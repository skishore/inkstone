<!--
 *  Copyright 2016 Shaunak Kishore (kshaunak "at" gmail.com)
 *
 *  This file is part of Inkstone.
 *
 *  Inkstone is free software: you can redistribute it and/or modify
 *  it under the terms of the GNU General Public License as published by
 *  the Free Software Foundation, either version 3 of the License, or
 *  (at your option) any later version.
 *
 *  Inkstone is distributed in the hope that it will be useful,
 *  but WITHOUT ANY WARRANTY; without even the implied warranty of
 *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 *  GNU General Public License for more details.
 *
 *  You should have received a copy of the GNU General Public License
 *  along with Inkstone.  If not, see <http://www.gnu.org/licenses/>.
 -->

<template name="teach">
  <div id="teach">
    <div class="controls">
      <a class="control home"><i class="ion-android-home"></i></a>
      <a class="control redo"><i class="ion-backspace"></i></a>
      <a class="control blacklist"><i class="ion-close"></i></a>
      <a class="control show"><i class="ion-search"></i></a>
    </div>
    <div class="prompt">
      <div class="pinyin">{{get 'pinyin'}} {{#if showIpa}}<span class="ipa">[{{get 'ipa'}}]</span>{{/if}}</div>
      <div class="definition">{{get 'definition'}}</div>
    </div>
    <div class="scroller">
      <div class="wrapper">
        <div class="flashcard {{get 'deck'}}"
             style="left: {{margin}}%; right: {{margin}}%;">
          <div class="error">
            {{get 'error'}}
            <!-- NOTE: We avoid using the each...in syntax here because this
                 link's click handler uses the option data context. -->
            {{#each get 'options'}}
              <a class="option">{{text}}</a>
            {{/each}}
          </div>
          {{#if get 'grading'}}
            {{> grading}}
          {{else}}
            {{#if show_regrading_icon}}
              <div class="icon regrade"><i class="ion-ios-flag"></i></div>
            {{/if}}
          {{/if}}
        </div>
      </div>
    </div>
  </div>
</template>

<template name="grading">
  <div id="grading">
    <div class="icon" data-result="0"><i class="ion-android-star"></i></div>
    <div class="icon" data-result="1"><i class="ion-checkmark"></i></div>
    <div class="icon" data-result="2"><i class="ion-pause"></i></div>
    <div class="icon" data-result="3"><i class="ion-close"></i></div>
  </div>
</template>

<template name="answer_selection">
  <div id="answer-selection">
    <!-- NOTE: We avoid using the each...in syntax here because this
         link's click handler uses the option data context. -->
    {{#each tasks}}
      <div class="option">
        <div class="character">{{obfuscate this}}</div>
        <div class="spacer">-</div>
        <div class="pinyin">{{data.pinyin}}</div>
      </div>
    {{/each}}
  </div>
</template>
